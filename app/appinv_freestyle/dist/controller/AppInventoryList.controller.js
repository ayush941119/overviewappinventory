sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,i,n){"use strict";return e.extend("appinvfreestyle.controller.AppInventoryList",{onInit:function(){this.getView().setModel(new t({search:"",appTypes:[],pillars:[],regions:[],tableTitle:""}),"appInventoryListView")},onSearch:async function(e){const t=this.getView().getModel("appInventoryListView");const n=this.getView().byId("appInventoryTable").getBinding("items");const s=[];const a=t.getProperty("/search");if(a!==""){const e=["appId","appName","itService","assignedGroup"];const t=await this._getBasicSearchFilter(e,a);s.push(new i({filters:t}))}const o=t.getProperty("/appTypes");if(o.length>0){const e=await this._getSelectionFilter("appType/ID",o);s.push(new i(e,false))}const r=t.getProperty("/pillars");if(r.length>0){const e=await this._getSelectionFilter("pillar/ID",r);s.push(new i(e,false))}const l=t.getProperty("/regions");if(l.length>0){const e=await this._getSelectionFilter("region/ID",l);s.push(new i(e,false))}n.filter(s);n.refresh()},_getBasicSearchFilter:async function(e,t){const s=[];await Promise.all(e.map(async e=>{s.push(new i({path:e,operator:n.Contains,value1:t,caseSensitive:false}))}));return s},_getSelectionFilter:async function(e,t){const s=[];await Promise.all(t.map(async t=>{s.push(new i(e,n.EQ,t))}));return s},onUpdateFinished:function(e){this.getView().getModel("appInventoryListView").setProperty("/tableTitle",this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("tableTitleCount",[e.getParameter("total")]))}})});